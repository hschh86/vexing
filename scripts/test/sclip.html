<!DOCTYPE html>
<html>
 <head>
	<meta charset='utf-8'>
	<title> Well, that was a failure. </title>
    <script src="../libs/snap/snap.svg-min.js"></script>
  <!--  <script>
      Snap.plugin(function (Snap, Element, Paper, global, Fragment) {
        has = "hasOwnProperty";
        $ = Snap._.$;
        URL = Snap.url;

        // It's gonna need the bit from the mask adding
        Paper.prototype.clipPath = function (first) {
          // copied from the 'mask'
            var attr,
                el = this.el("clipPath");
            if (arguments.length == 1 && first && !first.type) {
                el.attr(first);
            } else if (arguments.length) {
                el.add(Array.prototype.slice.call(arguments, 0));
            }


            // A bit that modifies the element to have the properties.
            for (var method in Paper.prototype) if (Paper.prototype[has](method)) {
                el[method] = Paper.prototype[method];
                //console.log(el[method]);
            }


            return el;


            // However, an important bit is to change the event handler

          };

// now to change the bitsy!

(function (clipIt) {
  eve.off("snap.util.attr.clip");
  eve.off("snap.util.attr.clip-path");
  eve.off("snap.util.attr.clipPath");

    eve.on("snap.util.attr.clip", clipIt);
    eve.on("snap.util.attr.clip-path", clipIt);
    eve.on("snap.util.attr.clipPath", clipIt);
}(function (value) {
  if (value instanceof Element || value instanceof Fragment) {
      eve.stop();
      if (value instanceof Fragment && value.node.childNodes.length == 1) {
          value = value.node.firstChild;
          getSomeDefs(this).appendChild(value);
          value = wrap(value);
      }
      if (value.type == "clipPath") {
          var clip = value;
      } else {
          clip = make("clipPath", getSomeDefs(this));
          clip.node.appendChild(value.node);
      }
      !clip.node.id && $(clip.node, {
          id: clip.id
      });
      $(this.node, {
          "clip-path": URL(clip.id)
      });
  }}));


//console.log(eve.f("snap.util.attr.clip"))

/*
            eve.on("snap.util.attr.mask", function (value) {
                if (value instanceof Element || value instanceof Fragment) {
                    eve.stop();
                    if (value instanceof Fragment && value.node.childNodes.length == 1) {
                        value = value.node.firstChild;
                        getSomeDefs(this).appendChild(value);
                        value = wrap(value);
                    }
                    if (value.type == "mask") {
                        var mask = value;
                    } else {
                        mask = make("mask", getSomeDefs(this));
                        mask.node.appendChild(value.node);
                    }
                    !mask.node.id && $(mask.node, {
                        id: mask.id
                    });
                    $(this.node, {
                        mask: URL(mask.id)
                    });
                }
            });
            (function (clipIt) {
                eve.on("snap.util.attr.clip", clipIt);
                eve.on("snap.util.attr.clip-path", clipIt);
                eve.on("snap.util.attr.clipPath", clipIt);
            }(function (value) {
                if (value instanceof Element || value instanceof Fragment) {
                    eve.stop();
                    if (value.type == "clipPath") {
                        var clip = value;
                    } else {
                        clip = make("clipPath", getSomeDefs(this));
                        clip.node.appendChild(value.node);
                        !clip.node.id && $(clip.node, {
                            id: clip.id
                        });
                    }
                    $(this.node, {
                        "clip-path": URL(clip.node.id || clip.id)
                    });
                }
            }));
            */


      })
    </script> -->
 </head>
 <body>
    <svg id="svgt"
         xmlns="http://www.w3.org/2000/svg"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         width="300" height="300"
         style="border: 1px solid black">
   </svg>
   <!--
   <script>
    pp = Snap("#svgt")
    grm = pp.circle(150, 150, 90)
    slm = pp.g()
    //klm = pp.clipPath()
    //klm.circle(150, 150, 20)
    //grm.attr({clip:klm})
    pop = pp.rect(100,100, 120, 120)

    grm.attr({clip:pop})
   </script>
 -->
 </body>
</html>
